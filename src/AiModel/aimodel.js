
import { _config } from "../config/config.js";

import {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } from "@google/generative-ai"
  
  const apiKey = _config.GEMINI_API;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: New York USA, for 1 Days and 1 Night for Family with a Luxury\nbudget with a Flight details, Flight Price with Booking url, Hotels options list with HotelName,\nHotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to visit\nnearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t\ntravel each of the location for 1 days and 1 night with each day plan with best time to visit in JSON"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"trip_details\": {\n    \"destination\": \"New York City, USA\",\n    \"duration\": \"1 day and 1 night\",\n    \"budget\": \"Luxury\",\n    \"travelers\": \"Family\"\n  },\n  \"flight_details\": {\n    \"flight_provider\": \"Delta Airlines\", \n    \"flight_number\": \"DL1234\", \n    \"departure_city\": \"Your Departure City\",\n    \"arrival_city\": \"New York City\",\n    \"departure_date\": \"2023-12-15\",\n    \"return_date\": \"2023-12-16\",\n    \"price\": \"$500\",\n    \"booking_url\": \"https://www.delta.com\" // Replace with actual booking url\n  },\n  \"hotel_options\": [\n    {\n      \"name\": \"The Peninsula New York\",\n      \"address\": \"700 Fifth Avenue, New York, NY 10019\",\n      \"price\": \"$1,500+\",\n      \"image_url\": \"https://www.thepeninsula.com/newyork/en/images/hotel/hero.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7580,\n        \"longitude\": -73.9855\n      },\n      \"rating\": 4.8,\n      \"description\": \"Iconic luxury hotel in Midtown Manhattan, known for its elegant rooms, Michelin-starred dining, and stunning views.\"\n    },\n    {\n      \"name\": \"The Mark Hotel\",\n      \"address\": \"25 East 77th Street, New York, NY 10075\",\n      \"price\": \"$2,000+\",\n      \"image_url\": \"https://www.themarkhotel.com/images/hero.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7722,\n        \"longitude\": -73.9654\n      },\n      \"rating\": 5.0,\n      \"description\": \"Exquisite and intimate hotel on the Upper East Side, offering impeccable service, luxurious suites, and a world-class restaurant.\"\n    },\n    {\n      \"name\": \"The St. Regis New York\",\n      \"address\": \"2 East 55th Street, New York, NY 10022\",\n      \"price\": \"$1,200+\",\n      \"image_url\": \"https://www.marriott.com/assets/images/hotels/nycsr/nycsr-exterior-1.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7589,\n        \"longitude\": -73.9742\n      },\n      \"rating\": 4.7,\n      \"description\": \"Elegant and historic hotel in Midtown Manhattan, known for its opulent rooms, legendary Bloody Mary, and prime location.\"\n    }\n  ],\n  \"day_plans\": [\n    {\n      \"day\": \"Day 1\",\n      \"activities\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"place_name\": \"Central Park\",\n          \"place_details\": \"Enjoy a leisurely stroll through Central Park, take a horse-drawn carriage ride, or have a picnic.\",\n          \"place_image_url\": \"https://www.nycgo.com/images/uploads/destinations/central-park-nyc-new-york-city.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7829,\n            \"longitude\": -73.9654\n          },\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"12:00 PM\",\n          \"place_name\": \"The Plaza Hotel\",\n          \"place_details\": \"Have lunch at The Palm Court, famous for its elegant ambiance and afternoon tea service.\",\n          \"place_image_url\": \"https://www.theplazany.com/sites/default/files/styles/gallery_full/public/palm-court-gallery.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7580,\n            \"longitude\": -73.9775\n          },\n          \"ticket_pricing\": \"Variable\",\n          \"time_to_travel\": \"1 hour\"\n        },\n        {\n          \"time\": \"2:00 PM\",\n          \"place_name\": \"Fifth Avenue Shopping\",\n          \"place_details\": \"Explore luxury boutiques and flagship stores along Fifth Avenue, including Tiffany & Co., Bergdorf Goodman, and Saks Fifth Avenue.\",\n          \"place_image_url\": \"https://www.nycgo.com/images/uploads/destinations/shopping-on-fifth-avenue-nyc-new-york-city.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7577,\n            \"longitude\": -73.9723\n          },\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"5:00 PM\",\n          \"place_name\": \"Top of the Rock\",\n          \"place_details\": \"Enjoy breathtaking panoramic views of the city from the observation deck of 30 Rockefeller Plaza.\",\n          \"place_image_url\": \"https://www.topoftherocknyc.com/sites/default/files/styles/hero-image-mobile/public/images/hero-images/mobile-hero-top-of-the-rock-at-night.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7580,\n            \"longitude\": -73.9788\n          },\n          \"ticket_pricing\": \"$39+\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"7:00 PM\",\n          \"place_name\": \"Per Se\",\n          \"place_details\": \"Indulge in a world-class dining experience at Thomas Keller's three-Michelin-starred restaurant.\",\n          \"place_image_url\": \"https://www.persegourmet.com/sites/default/files/images/per-se-dining-room-2.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7649,\n            \"longitude\": -73.9831\n          },\n          \"ticket_pricing\": \"$395+\",\n          \"time_to_travel\": \"3 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"activities\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"place_name\": \"The Metropolitan Museum of Art\",\n          \"place_details\": \"Explore a vast collection of art and artifacts from around the world.\",\n          \"place_image_url\": \"https://www.metmuseum.org/sites/default/files/styles/tile_square_1x1/public/images/home/met-exterior.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7815,\n            \"longitude\": -73.9632\n          },\n          \"ticket_pricing\": \"$25\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"1:00 PM\",\n          \"place_name\": \"The Museum of Modern Art (MoMA)\",\n          \"place_details\": \"Discover modern and contemporary art, including works by Picasso, Van Gogh, and Warhol.\",\n          \"place_image_url\": \"https://www.moma.org/images/collection/E2/W3esi5N_E2_W3esi5N_3343_0.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7614,\n            \"longitude\": -73.9772\n          },\n          \"ticket_pricing\": \"$25\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"3:00 PM\",\n          \"place_name\": \"Times Square\",\n          \"place_details\": \"Experience the vibrant energy of Times Square, with its dazzling lights, Broadway theaters, and street performers.\",\n          \"place_image_url\": \"https://www.nycgo.com/images/uploads/destinations/times-square-nyc-new-york-city.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7580,\n            \"longitude\": -73.9855\n          },\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"5:00 PM\",\n          \"place_name\": \"Brooklyn Bridge\",\n          \"place_details\": \"Take a scenic walk across the iconic Brooklyn Bridge, offering stunning views of the Manhattan skyline.\",\n          \"place_image_url\": \"https://www.nycgo.com/images/uploads/destinations/brooklyn-bridge-nyc-new-york-city.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7025,\n            \"longitude\": -73.9923\n          },\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"1 hour\"\n        },\n        {\n          \"time\": \"7:00 PM\",\n          \"place_name\": \"The River Cafe\",\n          \"place_details\": \"Enjoy a romantic dinner at this award-winning restaurant with stunning views of the Brooklyn Bridge.\",\n          \"place_image_url\": \"https://www.therivercafe.com/images/main-slider/slider-1.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7024,\n            \"longitude\": -73.9968\n          },\n          \"ticket_pricing\": \"$150+\",\n          \"time_to_travel\": \"2 hours\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Please Note:**\n\n* **Flight Details:** Replace the placeholder information with your desired departure city, flight dates, and booking URL.\n* **Hotel Options:**  These are just a few suggestions. You can research and select hotels based on your preferences and budget.\n* **Day Plans:** The suggested activities are a sample itinerary. Feel free to adjust the order, timings, and locations based on your family's interests and preferences.\n* **Ticket Pricing:** Ticket prices are estimates and can vary depending on the time of year and availability. \n* **Time to Travel:** Estimated travel times between locations. Actual travel times may vary depending on traffic and transportation methods. \n\nEnjoy your luxury family trip to New York City! \n"},
          ],
        },
        
      ],
    });
  
//     const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
//     console.log(result.response.text());

  
 